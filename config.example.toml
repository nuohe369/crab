# Crab Framework Configuration File
# Copy this file to config.toml and modify the values

[app]
name = "crab"
version = "0.1.0"
env = "dev"  # dev: development, prod: production
strict_dependency_check = true 

[server]
addr = ":3000"

# ==================== Snowflake ID Generator ====================
[snowflake]
machine_id = 1  # Machine ID (0-1023), must be unique in distributed environment

# ==================== Database Configuration (Required) ====================
[database.default]
host = "localhost"
port = 5432
user = "your_username"
password = "your_password"  # Use ENC(xxx) for encrypted password
db_name = "crab"
auto_migrate = true   # Auto migrate database schema
show_sql = false      # Show SQL logs

# Example: Additional database
# [database.crab_usercenter]
# host = "localhost"
# port = 5432
# user = "your_username"
# password = "your_password"
# db_name = "crab_usercenter"
# auto_migrate = true
# show_sql = false

# ==================== Redis Configuration (Required) ====================
[redis.default]
addr = "localhost:6379"
password = ""  # Use ENC(xxx) for encrypted password
db = 0

# Example: Additional Redis instance for caching
# [redis.cache]
# addr = "localhost:6380"
# password = ""
# db = 0

# ==================== Service Configuration ====================
# Define different service combinations, start with: serve -s <name>

[[services]]
name = "all"
addr = ":3000"
modules = ["testapi", "ws"]
